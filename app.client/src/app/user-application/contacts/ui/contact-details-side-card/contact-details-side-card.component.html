<form [formGroup]="contactForm" class="fadeInRight bg-white flex flex-col min-w-sm max-w-sm h-full justify-start px-6 py-5 gap-y-3">
    <!--Options-->
    <div class="flex flex-row justify-between items-center gap-x-2">
        <div class="font-medium capitalize">
            @if(contact)
            {
                Update contact
            }
            @else {
                Create new contact
            }
        </div>
        <div class="flex gap-x-2">
            @if(contact)
            {
                <button class="w-6 h-7 bg-red-50 text-red-600 rounded hover:bg-gray-200 text-lg bi bi-trash3" (click)="delate.emit(contact.id)"></button>
            }
            <button class="w-6 h-7 rounded hover:bg-gray-200 text-lg bi bi-x-lg" (click)="close.emit()"></button>
        </div>
    </div>
    <!--Title-->
    <div class="flex flex-col gap-1">
        <input class="px-2 text-lg rounded font-semibold capitalize hover:bg-gray-200" placeholder="Firstname" formControlName="firstname"/>
        <input class="px-2 text-lg rounded font-semibold capitalize hover:bg-gray-200" placeholder="Lastname" formControlName="lastname"/>
    </div>
    @if(contactForm.dirty || categoryForm.dirty)
    {
        <div class="flex flex-row justify-between gap-2">
            <div class="flex flex-row gap-1">
                <button class="hover:bg-gray-200 rounded px-1 font-bold border-2 bi bi-check-lg" (click)="submit()"></button>
                <button class="hover:bg-gray-200 rounded px-1 font-bold border-2 text-red-700 bi bi-x-lg" (click)="discard()" ></button>
            </div>
        </div>
    }

    <!-- About section -->
    <!-- <div class="flex flex-col gap-y-1">
        <div class="font-medium text-base">About</div>
        <input class="text-sm px-2 rounded hover:bg-gray-200" placeholder="Here you can write how it is"/>
    </div> -->

    <!--Details card-->
    <div class="flex flex-col gap-y-4 border-2 rounded p-2 text-nowrap">
        <div class="font-semibold">Details</div>
        <div class="flex flex-col gap-y-3 px-2">
            <!-- Email -->
            <div class="flex flex-col justify-center items-center gap-0.5">
                <div class="flex flex-row justify-between items-center gap-x-2">
                    <div class="font-light text-sm">Email</div>
                
                    <input class="px-2 rounded hover:bg-gray-200 {{!contactForm.controls.email.valid ? ' border-2 border-red-700': ''}}" placeholder="..." formControlName="email"/>
                </div>
                @if(!contactForm.controls.email.valid)
                    {
                        <div class="text-sm">This is not valid email format</div>
                    }
            </div>
            <!-- Birthday -->
            <div class="flex flex-row justify-start items-center gap-x-5">
                <div class="font-light text-sm">Birthday</div>
                <input type="date" class="text-black w-min" formControlName="birthday"/>
            </div>
            <!--Phone Number-->
            <div class="flex flex-col justify-center items-center gap-0.5">
                <div class="flex flex-row justify-between items-center gap-x-5">
                    <div class="font-light text-sm">Phone</div>
                    <input class="px-2 rounded hover:bg-gray-200 {{!contactForm.controls.phoneNumber.valid ? ' border-2 border-red-700': ''}}" placeholder="eg. 123 456 789" formControlName="phoneNumber"/>
                </div>
                @if(!contactForm.controls.phoneNumber.valid)
                    {
                        <div class="text-sm">Only number and 9 digits requred</div>
                    }
            </div>
            <!-- Category Section -->
            <app-category-select [categoryForm]="categoryForm"></app-category-select>
        </div>
    </div>
    @if(contact?.createdAt && contact?.updatedAt)
    {
        <div class="flex flex-col gap-y-0.5">
            <div class="text-sm">Created at {{contact?.createdAt | date:'medium'}}</div>
            <div class="text-sm">Updated at {{contact?.updatedAt | date:'medium'}}</div>
        </div>
    }
</form>





